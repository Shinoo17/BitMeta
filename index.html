<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.1/font/bootstrap-icons.css">
    <!-- JQuery -->
    <script src ="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Swiper -->
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css">
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
    <!-- my css -->
    <link rel="stylesheet" href="myStyle.css">

	<link rel="icon" href="image/icon_200x200.png" type="image/x-icon">
    <title>BitMeta</title>
</head>
<body>
    <div>
		<!-- navbar -->
        <nav class="navbar navbar-expand navbar-dark nav-overtop" style="background-color: rgba(0,0,0,0)">
            <div class="container">
                <a class="navbar-brand" href=""><i class="bi bi-house-door-fill"></i>Home</a>
                <a class="navbar-link" href="market.php"><i class="bi bi-currency-exchange"></i>Market</a>
                <a class="navbar-link" href="news.php"><i class="bi bi-file-earmark-text"></i>Announcement</a>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="login.php"><i class="bi bi-pencil-square"></i> เข้าสู่ระบบ</a>
                    </li>
                </ul>
            </div>
        </nav>

		<!-- Swiper -->
        <div class="swiper swiper-move-top">
            <div class="swiper-wrapper">
              <div class="swiper-slide"><img src="image/index/bitcoin-2.jpg" class="swiper-img-move"></div>
              <div class="swiper-slide"><img src="image/index/ETH-1.png" class="swiper-img-move"></div>
              <div class="swiper-slide"><img src="image/index/BNB-2.png" class="swiper-img-move"></div>
              <div class="swiper-slide"><img src="image/index/Cardano-2.png" class="swiper-img-move"></div>
              <div class="swiper-slide"><img src="image/index/AXS-1.png" class="swiper-img-move"></div>
            </div>
            <div class="swiper-pagination"></div>
			<div class="swiper-button-prev swiper-button-white"></div>
			<div class="swiper-button-next swiper-button-white"></div>
        </div>

		<!-- Show Price and coin Name -->
		<div id="show-price" class="FadeIn">
			$ <span id="show-price-text">60000.00</span>
		</div>
		<div id="show-name" class="FadeIn">
			<div>
				<img src="image/icon/BTC.png" id="icon" class="coin-icon">
				<span id="show-name-text">Bitcoin</span><sup class="show-symbol">(<span id="show-symbol-text">BTC</span>)</sup>
			</div>
		</div>

		<!-- Debug Swiper -->
		<script>
			function myPlugin({ swiper, extendParams, on }) {
			extendParams({
				debugger: false,
			});

			on('init', () => {
				if (!swiper.params.debugger) return;
				console.log('init');
			});
			on('click', (swiper, e) => {
				if (!swiper.params.debugger) return;
				console.log('click');
			});
			on('tap', (swiper, e) => {
				if (!swiper.params.debugger) return;
				console.log('tap');
			});
			on('doubleTap', (swiper, e) => {
				if (!swiper.params.debugger) return;
				console.log('doubleTap');
			});
			on('sliderMove', (swiper, e) => {
				if (!swiper.params.debugger) return;
				console.log('sliderMove');
			});
			on('slideChange', () => {
				if (!swiper.params.debugger) return;
				console.log(
				'slideChange',
				swiper.previousIndex,
				'->',
				swiper.activeIndex
				);
			});
			on('slideChangeTransitionStart', () => {
				if (!swiper.params.debugger) return;
				console.log('slideChangeTransitionStart');
			});
			on('slideChangeTransitionEnd', () => {
				if (!swiper.params.debugger) return;
				console.log('slideChangeTransitionEnd');
			});
			on('transitionStart', () => {
				if (!swiper.params.debugger) return;
				console.log('transitionStart');
			});
			on('transitionEnd', () => {
				if (!swiper.params.debugger) return;
				console.log('transitionEnd');
			});
			on('fromEdge', () => {
				if (!swiper.params.debugger) return;
				console.log('fromEdge');
			});
			on('reachBeginning', () => {
				if (!swiper.params.debugger) return;
				console.log('reachBeginning');
			});
			on('reachEnd', () => {
				if (!swiper.params.debugger) return;
				console.log('reachEnd');
			});
			}
		</script>

        <script>
            // Init Swiper
            let swiper = new Swiper('.swiper', {
				modules: [myPlugin],
                loop: true,
                autoplay: {
                    delay: 5500,
                },
                spaceBetween: 0,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                // Enable debugger
                debugger: true,
				on: {
					init: function(){
						fetch("https://api.binance.com/api/v3/ticker/price")
						.then(function (response){
							return response.json()
						})
						.then(function(data){
							document.getElementById('show-price-text').innerHTML = parseFloat(data[11]['price']).toFixed(2);
							// remove FadeIn Animation
							var element1 = document.getElementById("show-price");
							var element2 = document.getElementById("show-name");
							setTimeout(function(){
								element1.classList.remove("FadeIn");
								element2.classList.remove("FadeIn");
							},500);
						});
					},
				},
            });
			let current_index;
			let price;
			let coin_name;
			let symbol;
			swiper.on('slideChange', function(){
				current_index = swiper.activeIndex;
				fetch("https://api.binance.com/api/v3/ticker/price")
				.then(function (response){
					return response.json()
				})
				.then(function (data){
					switch(current_index){
						case 0: price = parseFloat(data[1148]['price']).toFixed(2); coin_name = "Axie Infinity";symbol = "AXS"; break;	// page 1 -> 5
						case 1: price = parseFloat(data[11]['price']).toFixed(2); 	coin_name = "Bitcoin"; 		symbol = "BTC"; break;
						case 2: price = parseFloat(data[12]['price']).toFixed(2); 	coin_name = "Ethereum"; 	symbol = "ETH"; break;
						case 3: price = parseFloat(data[98]['price']).toFixed(2); 	coin_name = "Binance Coin"; symbol = "BNB"; break;
						case 4: price = parseFloat(data[298]['price']).toFixed(2);  coin_name = "Cardano"; 		symbol = "ADA"; break;
						case 5: price = parseFloat(data[1148]['price']).toFixed(2); coin_name = "Axie Infinity";symbol = "AXS"; break;
						case 6: price = parseFloat(data[11]['price']).toFixed(2); 	coin_name = "Bitcoin"; 		symbol = "BTC"; break;	// page 5 -> 1
						default: price = "out of data"; coin_name = "out of data"; break;
					}
					document.getElementById("show-price-text").innerHTML = price;
					document.getElementById("show-name-text").innerHTML = coin_name;
					document.getElementById("show-symbol-text").innerHTML = symbol;
					document.getElementById("icon").src = "image/icon/" + symbol + ".png";
					// FadeIn Animation
					var element1 = document.getElementById("show-price");
					var element2 = document.getElementById("show-name");
					element1.classList.add("FadeIn");
					element2.classList.add("FadeIn");
					setTimeout(function(){
						element1.classList.remove("FadeIn");
						element2.classList.remove("FadeIn");
						
					},500);
				});
			});

			// scroll mouse
			var scrollArea = 872;
			var ele = document.getElementsByClassName('swiper-img-move');
			window.addEventListener('scroll', function() {
				var scrollPercent = window.pageYOffset/scrollArea || 0;
				for(var i=0; i<ele.length; i++){
					ele[i].style.marginTop = scrollPercent*500 + 'px';
				}
			});
        </script>
		

    </div>

    <!-- TradingView Mini Chart -->
    <div class="container">
        <br><br><br><br><br>
        <div class="row">
            <div class="col-lg-3">
                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="" src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                        {
                        "symbol": "BINANCE:BTCUSDT",
                        "width": "312",
                        "height": "100%",
                        "locale": "en",
                        "dateRange": "1M",
                        "colorTheme": "dark",
                        "trendLineColor": "rgba(73, 133, 231, 1)",
                        "underLineColor": "rgba(41, 98, 255, 0.3)",
                        "underLineBottomColor": "rgba(41, 98, 255, 0)",
                        "isTransparent": false,
                        "autosize": false,
                        "largeChartUrl": ""
                        }
                    </script>
                </div>
                <!-- TradingView Widget END -->
            </div>
            <div class="col-lg-3">
                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="" src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                        {
                        "symbol": "BINANCE:ETHUSDT",
                        "width": "312",
                        "height": "100%",
                        "locale": "en",
                        "dateRange": "1M",
                        "colorTheme": "dark",
                        "trendLineColor": "rgba(73, 133, 231, 1)",
                        "underLineColor": "rgba(41, 98, 255, 0.3)",
                        "underLineBottomColor": "rgba(41, 98, 255, 0)",
                        "isTransparent": false,
                        "autosize": false,
                        "largeChartUrl": ""
                        }
                    </script>
                </div>
                <!-- TradingView Widget END -->
            </div>
            <div class="col-lg-3">
                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="" src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                        {
                        "symbol": "BINANCE:BNBUSDT",
                        "width": "312",
                        "height": "100%",
                        "locale": "en",
                        "dateRange": "1M",
                        "colorTheme": "dark",
                        "trendLineColor": "rgba(73, 133, 231, 1)",
                        "underLineColor": "rgba(41, 98, 255, 0.3)",
                        "underLineBottomColor": "rgba(41, 98, 255, 0)",
                        "isTransparent": false,
                        "autosize": false,
                        "largeChartUrl": ""
                        }
                    </script>
                </div>
                <!-- TradingView Widget END -->
            </div>
            <div class="col-lg-3">
                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="" src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                        {
                            "symbol": "BINANCE:ADAUSDT",
                            "width": "312",
                            "height": "100%",
                            "locale": "en",
                            "dateRange": "1M",
                            "colorTheme": "dark",
                            "trendLineColor": "rgba(73, 133, 231, 1)",
                            "underLineColor": "rgba(41, 98, 255, 0.3)",
                            "underLineBottomColor": "rgba(41, 98, 255, 0)",
                            "isTransparent": false,
                            "autosize": false,
                            "largeChartUrl": ""
                        }
                    </script>
                </div>
                <!-- TradingView Widget END -->
            </div>
        </div>
        <br><br><br><br>
    </div>
	<br><br><br><br><br><br><br><br><br><br><br><br>
	<br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>